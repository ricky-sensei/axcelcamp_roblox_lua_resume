# Roblox Lua 基礎④  
# 繰り返し（for / while）

------------------------------------------------------------------------

## 🎯 今日の目標

- 同じ処理を何回も実行できるようになる  
- for文とwhile文の使い分けを知る  
- ゲームでよく使われる「くり返し処理」を理解する  

------------------------------------------------------------------------

# 1. 繰り返しってなに？

プログラムでは、同じ処理を何度も行いたい場面がたくさんある。

たとえば：

- 敵を10体出現させる  
- カウントダウンを表示する  
- スコアを毎秒チェックする  

こういうときに使うのが **繰り返し（ループ）**。

------------------------------------------------------------------------

# 2. for文（回数が決まっているとき）

for文は、**回数が決まっている繰り返し** に向いている。

```lua
for i = 1, 5 do
    print(i)
end
```

出力結果：

```
1
2
3
4
5
```

- `i` はカウンター（数字が1ずつ変わる変数）  
- `1, 5` は「1から5まで」という意味  

------------------------------------------------------------------------

## for文のよくある使い方

### ① 何回も同じことをする

```lua
for i = 1, 3 do
    print("こんにちは")
end
```

### ② 数を使った計算

```lua
local sum = 0

for i = 1, 5 do
    sum = sum + i
end

print(sum)  -- 15
```

------------------------------------------------------------------------

# 3. while文（条件が続くあいだ）

while文は、**条件がtrueのあいだ繰り返す** 処理。

```lua
local hp = 100

while hp > 0 do
    print("HP: " .. hp)
    hp = hp - 30
end

print("ゲームオーバー")
```

------------------------------------------------------------------------

 

------------------------------------------------------------------------

# 5. 無限ループに注意！

条件を間違えると、処理が終わらなくなる。

```lua
-- ダメな例（止まらない）
while true do
    print("ずっと動く")
end
```

while文の中では、  
**必ず条件が変わる処理を書く** ようにしよう。

------------------------------------------------------------------------

# 6. 出力を予想してみよう

次のコードを実行すると、何が表示される？

```lua
local x = 1

for i = 1, 3 do
    x = x * 2
    print(x)
end
```

<details><summary>答え</summary>

```
2
4
8
```

</details>

------------------------------------------------------------------------

# 7. Roblox Studioでやってみよう

触れたらカウントが増えるブロックを作ってみよう。

```lua
local part = script.Parent
local count = 0

local function onTouched(hit)
    count = count + 1
    print("さわった回数: " .. count)
end

part.Touched:Connect(onTouched)
```

------------------------------------------------------------------------

# 8. まとめ

- 繰り返しは同じ処理を何度も行う  
- for文は回数が決まっているとき  
- while文は条件が続くあいだ  
- 無限ループに注意  

------------------------------------------------------------------------

# 🎮 ミニチャレンジ

1. for文を使って「1〜10」を表示しよう  
2. while文でHPが0になるまで減らしてみよう  
3. 触れるたびに5ずつ増えるカウンターを作ってみよう  

